#include <c_std.mlang>

struct Vec3 {
    int x = 0; 
    int y = 0;
    int z = 0;
    func add(int amount) {
        this.x += amount;
        this.y += amount;
        this.z += amount;
    }
    func init() {
        this.x = 0;
        this.y = 0;
        this.z = 0;
    }
}
func static Vec3.new() -> Vec3* {
    return c_std::malloc(Vec3.type_info().size);
}
func Vec3.print() {
    c_std::printf("Vec3[%d, %d, %d]\n", this.x, this.y, this.z);
}

const ONE = 1;

func main() {
    Vec3* v = Vec3.new();
    if (v == 0) {
        c_std::printf("[Error] couldn't create v");
    } else {
        v.init();
        v.print();
        v.add(3);
        v.print();
    }
}
